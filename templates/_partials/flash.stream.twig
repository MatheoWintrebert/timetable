<turbo-stream action="append" target="flash">
  <template>
    {% for label, messages in app.flashes %}
      {% for message in messages %}
        <div class="alert alert-{{ label }} flash-message" role="alert" data-controller="flash" data-action="animationend->flash#remove" data-flash-auto-hide-value="true" data-flash-delay-value="5000">
          <div class="alert-icon">
            {% if label == 'success' %}
              🎉
            {% elseif label == 'error' or label == 'danger' %}
              ⚠️
            {% elseif label == 'warning' %}
              🔔
            {% elseif label == 'info' %}
              ℹ️
            {% else %}
              📢
            {% endif %}
          </div>
          <div class="alert-content">
            <div class="alert-message">{{ message }}</div>
          </div>
          <button type="button" class="alert-close" data-action="click->flash#hide" aria-label="Fermer"><span aria-hidden="true">×</span></button>
        </div>
      {% endfor %}
    {% endfor %}
  </template>
</turbo-stream>
